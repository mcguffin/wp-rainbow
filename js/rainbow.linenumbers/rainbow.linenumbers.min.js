window.Rainbow&&!window.Rainbow.linenumbers&&(window.Rainbow.linenumbers=function(e){function n(e){function n(){i(c,f,m,e.offsetWidth)}d++;var a,l,c,u=/\r\n|\r|\n/g,p=e.innerHTML.replace(u,"\n").split("\n").length,w=e.getAttribute("data-line")<<0||1,s=w>=0,f="rb"+d,b=e.parentNode,h=o(e),m=1+String(w+p-1).length*h;s&&(a=w,l=t(f,w)+e.innerHTML.replace(u,function(e){return e+t(f,++a)}),e.classList.add(f),"block"===r(e).display&&window.addEventListener("resize",n,!1),c=document.createElement("style"),n(),b.parentNode.insertBefore(c,b),e.innerHTML=l)}function t(e,n){return'<span id="'+e+"ln"+n+'" class="line" data-line="'+n+'"></span>'}function i(e,n,t,i){e.textContent="pre code.rainbow."+n+" .line:before{ width: "+t+"px; }pre code.rainbow."+n+" .line:after{ width:"+(i||0)+"px }"}function o(e){var n,t=document.createElement("div"),i=t.style,o=r(e),d={font:o.font,width:"auto",display:"inline-block"};t.appendChild(document.createTextNode(new Array(32).join("a")+"a"));for(var a in d)i[a]=d[a];return document.body.appendChild(t),n=t.offsetWidth>>5,document.body.removeChild(t),n}function r(e){return e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e,null)||e.style}var d=0,a=document.createElement("style");return a.appendChild(document.createTextNode("pre code.rainbow .line { position: relative; padding-right: 10px; }pre code.rainbow .line:before{ content: attr(data-line); display: inline-block; text-align: right; white-space: nowrap; }pre code.rainbow .line:after{ content:''; position: absolute; left: 0; bottom: 0; }")),document.head.appendChild(a),e.onHighlight(n),n}(window.Rainbow));